# Variables
source:                     &source                    __SOURCE__
loglevel:                   &loglevel                  10
ceph_interface:             &ceph_interface            __CEPH_INTERFACE__

applications:
  nova-compute:
    options:
      force-raw-images: True
      libvirt-image-backend: rbd
  cinder:
    options:
      block-device:  ''
      ephemeral-unmount: ''
      overwrite: 'false'
      glance-api-version: 2
  cinder-ceph:
    charm: cs:~openstack-charmers-next/cinder-ceph
relations:
  - [ glance, *ceph_interface ]
  - [ cinder, cinder-ceph ]
  - [ cinder-ceph, *ceph_interface ]
  - [ nova-compute, cinder-ceph ]
  - [ nova-compute, *ceph_interface ]
